### ===========================================
### ğŸš€ SAGA PATTERN SPRING - API REQUESTS
### ===========================================

### 1. ğŸ“Š Health Check
GET http://localhost:8080/actuator/health
Accept: application/json

### 2. ğŸ”§ Verificar H2 Console (Browser)
# http://localhost:8080/h2-console
# JDBC URL: jdbc:h2:mem:sagadb
# User: sa
# Password: (deixar vazio)

### ===========================================
### ğŸ“¦ ORDERS - Criar Pedidos
### ===========================================

### 3. âœ… Criar Pedido #1 (Sucesso)
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "customer-001",
  "productId": "product-123",
  "quantity": 2,
  "amount": 150.00
}

### 4. âœ… Criar Pedido #2 (Sucesso)
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "customer-002",
  "productId": "product-456",
  "quantity": 1,
  "amount": 299.99
}

### 5. âœ… Criar Pedido #3 (Quantidade alta para testar estoque)
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "customer-003",
  "productId": "product-789",
  "quantity": 100,
  "amount": 5000.00
}

### 6. âŒ Criar Pedido InvÃ¡lido (Teste de erro)
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "",
  "productId": "product-invalid",
  "quantity": -1,
  "amount": 0
}

### ===========================================
### ï¿½ï¿½ ORDERS - Consultar Pedidos
### ===========================================

### 7. ğŸ“‹ Buscar Pedido por ID (substitua {orderId})
GET http://localhost:8080/api/orders/5
Accept: application/json

### 8. ğŸ“‹ Buscar Pedidos por Cliente
GET http://localhost:8080/api/orders/customer/customer-001
Accept: application/json

### 9. ğŸ“‹ Buscar Pedidos por Status - PENDING
GET http://localhost:8080/api/orders/status/PENDING
Accept: application/json

### 10. ğŸ“‹ Buscar Pedidos por Status - CONFIRMED
GET http://localhost:8080/api/orders/status/CONFIRMED
Accept: application/json

### 11. ğŸ“‹ Buscar Pedidos por Status - CANCELLED
GET http://localhost:8080/api/orders/status/CANCELLED
Accept: application/json

### 12. ğŸ“‹ Buscar Pedidos por Status - SHIPPED
GET http://localhost:8080/api/orders/status/SHIPPED
Accept: application/json

### ===========================================
### ğŸ”„ SAGAS - Monitorar TransaÃ§Ãµes
### ===========================================

### 13. ï¿½ï¿½ Listar Todas as Sagas
GET http://localhost:8080/api/sagas
Accept: application/json

### 14. ğŸ” Buscar Status de Saga EspecÃ­fica (substitua {sagaId})
GET http://localhost:8080/api/sagas/SAGA_ID_AQUI/status
Accept: application/json

### Exemplo com ID real (copie um sagaId da resposta anterior):
# GET http://localhost:8080/api/sagas/550e8400-e29b-41d4-a716-446655440000/status

### ===========================================
### ğŸ“Š MÃ‰TRICAS - Monitoramento
### ===========================================

### 15. ğŸ“ˆ MÃ©tricas das Sagas
GET http://localhost:8080/api/metrics/saga
Accept: application/json

### 16. ğŸ“Š MÃ©tricas do Actuator
GET http://localhost:8080/actuator/metrics
Accept: application/json

### 17. ğŸ¥ Health Check Detalhado
GET http://localhost:8080/actuator/health
Accept: application/json

### ===========================================
### âŒ CANCELAMENTOS - Testar Cancelamentos
### ===========================================

### 18. ğŸš« Cancelar Pedido (substitua {orderId})
POST http://localhost:8080/api/orders/1/cancel
Content-Type: application/json

### ===========================================
### ğŸ§ª TESTES DE CARGA - MÃºltiplos Pedidos
### ===========================================

### 19. ğŸš€ Pedido RÃ¡pido #1
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "load-test-001",
  "productId": "product-load-1",
  "quantity": 1,
  "amount": 50.00
}

### 20. ğŸš€ Pedido RÃ¡pido #2
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "load-test-002",
  "productId": "product-load-2",
  "quantity": 3,
  "amount": 150.00
}

### 21. ğŸš€ Pedido RÃ¡pido #3
POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerId": "load-test-003",
  "productId": "product-load-3",
  "quantity": 5,
  "amount": 250.00
}

### ===========================================
### ï¿½ï¿½ UTILITÃRIOS - Endpoints de Debug
### ===========================================

### 22. ğŸ—‚ï¸ Listar Todos os Endpoints
GET http://localhost:8080/actuator/mappings
Accept: application/json

### 23. âš™ï¸ InformaÃ§Ãµes da AplicaÃ§Ã£o
GET http://localhost:8080/actuator/info
Accept: application/json

### 24. ğŸŒ VariÃ¡veis de Ambiente
GET http://localhost:8080/actuator/env
Accept: application/json

### ===========================================
### ï¿½ï¿½ SEQUÃŠNCIA DE TESTE RECOMENDADA
### ===========================================

# 1. Execute Health Check (#1)
# 2. Crie alguns pedidos (#3, #4, #5)
# 3. Consulte mÃ©tricas (#15)
# 4. Liste todas as sagas (#13)
# 5. Verifique status de uma saga especÃ­fica (#14)
# 6. Consulte pedidos por status (#9, #10)
# 7. Cancele um pedido (#18)
# 8. Verifique mÃ©tricas finais (#15)

### ===========================================
### ğŸ› TROUBLESHOOTING
### ===========================================

### Se der erro 404, verifique se a aplicaÃ§Ã£o estÃ¡ rodando:
# curl http://localhost:8080/actuator/health

### Se der erro de conexÃ£o, verifique a porta:
# netstat -an | grep 8080

### Para ver logs em tempo real:
# docker-compose logs -f saga-app